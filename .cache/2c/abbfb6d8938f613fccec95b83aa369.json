{"id":"../main-thread/worker.ts","dependencies":[{"name":"/z/worker-dom/src/main-thread/tsconfig.json","includedInParent":true,"mtime":1603349362728},{"name":"/z/worker-dom/src/react-map/package.json","includedInParent":true,"mtime":1603352541233},{"name":"/z/worker-dom/src/react-map/.babelrc","includedInParent":true,"mtime":1603349362724},{"name":"./serialize","loc":{"line":19,"column":28},"parent":"/z/worker-dom/src/main-thread/worker.ts","resolved":"/z/worker-dom/src/main-thread/serialize.ts"},{"name":"./debugging","loc":{"line":20,"column":28},"parent":"/z/worker-dom/src/main-thread/worker.ts","resolved":"/z/worker-dom/src/main-thread/debugging.ts"},{"name":"../transfer/TransferrableKeys","loc":{"line":21,"column":36},"parent":"/z/worker-dom/src/main-thread/worker.ts","resolved":"/z/worker-dom/src/transfer/TransferrableKeys.ts"},{"name":"../transfer/TransferrableStorage","loc":{"line":22,"column":39},"parent":"/z/worker-dom/src/main-thread/worker.ts","resolved":"/z/worker-dom/src/transfer/TransferrableStorage.ts"}],"generated":{"js":"\"use strict\";\n/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WorkerContext = void 0;\n\nvar serialize_1 = require(\"./serialize\");\n\nvar debugging_1 = require(\"./debugging\");\n\nvar TransferrableKeys_1 = require(\"../transfer/TransferrableKeys\");\n\nvar TransferrableStorage_1 = require(\"../transfer/TransferrableStorage\");\n\nvar WorkerContext = /*#__PURE__*/function () {\n  /**\n   * @param baseElement\n   * @param nodeContext\n   * @param workerDOMScript\n   * @param authorScript\n   * @param config\n   */\n  function WorkerContext(baseElement, nodeContext, string, authorScript, config) {\n    _classCallCheck(this, WorkerContext);\n\n    this.nodeContext = nodeContext;\n    this.config = config;\n\n    var _serialize_1$createHy = serialize_1.createHydrateableRootNode(baseElement, config, this),\n        skeleton = _serialize_1$createHy.skeleton,\n        strings = _serialize_1$createHy.strings;\n\n    var cssKeys = [];\n    var globalEventHandlerKeys = []; // TODO(choumx): Sync read of all localStorage and sessionStorage a possible performance bottleneck?\n\n    var localStorageData = config.sanitizer ? config.sanitizer.getStorage(TransferrableStorage_1.StorageLocation.Local) : window.localStorage;\n    var sessionStorageData = config.sanitizer ? config.sanitizer.getStorage(TransferrableStorage_1.StorageLocation.Session) : window.sessionStorage;\n\n    for (var key in baseElement.style) {\n      cssKeys.push(key);\n    }\n\n    for (var _key in baseElement) {\n      if (_key.startsWith('on')) {\n        globalEventHandlerKeys.push(_key);\n      }\n    }\n\n    var code = \"\\n      'use strict';\\n      (function(){\\n        \".concat(workerDOMScript, \"\\n        self['window'] = self;\\n        var workerDOM = WorkerThread.workerDOM;\\n        WorkerThread.hydrate(\\n          workerDOM.document,\\n          \").concat(JSON.stringify(strings), \",\\n          \").concat(JSON.stringify(skeleton), \",\\n          \").concat(JSON.stringify(cssKeys), \",\\n          \").concat(JSON.stringify(globalEventHandlerKeys), \",\\n          [\").concat(window.innerWidth, \", \").concat(window.innerHeight, \"],\\n          \").concat(JSON.stringify(localStorageData), \",\\n          \").concat(JSON.stringify(sessionStorageData), \"\\n        );\\n        workerDOM.document[\").concat(TransferrableKeys_1.TransferrableKeys.observe, \"](this);\\n        Object.keys(workerDOM).forEach(function(k){self[k]=workerDOM[k]});\\n      }).call(self);\\n      \").concat(authorScript, \"\\n      //# sourceURL=\").concat(encodeURI(config.authorURL));\n    this[TransferrableKeys_1.TransferrableKeys.worker] = new Worker(URL.createObjectURL(new Blob([code])));\n\n    if (undefined) {\n      console.info('debug', 'hydratedNode', debugging_1.readableHydrateableRootNode(baseElement, config, this));\n    }\n\n    if (config.onCreateWorker) {\n      config.onCreateWorker(baseElement, strings, skeleton, cssKeys);\n    }\n\n    if (config.messageChannel) {\n      this[TransferrableKeys_1.TransferrableKeys.worker].addEventListener(\"message\", function (e) {\n        var _config$messageChanne;\n\n        return (_config$messageChanne = config.messageChannel) === null || _config$messageChanne === void 0 ? void 0 : _config$messageChanne.port2.postMessage(e.data, [e.data]);\n      });\n    }\n  }\n  /**\n   * Returns the private worker.\n   */\n\n\n  _createClass(WorkerContext, [{\n    key: \"messageToWorker\",\n\n    /**\n     * @param message\n     */\n    value: function messageToWorker(message, transferables) {\n      if (undefined) {\n        console.info('debug', 'messageToWorker', debugging_1.readableMessageToWorker(this.nodeContext, message));\n      }\n\n      if (this.config.onSendMessage) {\n        this.config.onSendMessage(message, transferables || []);\n      }\n\n      if (this.config.messageChannel) {\n        this.config.messageChannel.port1.postMessage(message, transferables || []);\n      }\n\n      this.worker.postMessage(message, transferables || []);\n    }\n  }, {\n    key: \"worker\",\n    get: function get() {\n      return this[TransferrableKeys_1.TransferrableKeys.worker];\n    }\n  }]);\n\n  return WorkerContext;\n}();\n\nexports.WorkerContext = WorkerContext;\nTransferrableKeys_1.TransferrableKeys.worker;"},"sourceMaps":{"js":{"mappings":[{"source":"../main-thread/worker.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":4}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":25}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":39}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":29,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":4}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":25}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":39}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":31,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":4}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":23}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":33}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":65}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":33,"column":66}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":4}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":71}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":35,"column":72}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":37,"column":4}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":38,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":45,"column":25}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":40},"generated":{"line":45,"column":38}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":49}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":70},"generated":{"line":45,"column":51}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":57}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":78},"generated":{"line":45,"column":59}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":71}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":100},"generated":{"line":45,"column":73}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":45,"column":79}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":45,"column":81}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":46,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":48,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":48,"column":9}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":48,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":48,"column":23}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":48,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":49,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":49,"column":9}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":49,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":39,"column":18},"generated":{"line":49,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":49,"column":24}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":51,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":32}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":43}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":44}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":69}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":60},"generated":{"line":51,"column":70}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":81}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":73},"generated":{"line":51,"column":83}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":89}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":81},"generated":{"line":51,"column":91}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":51,"column":95}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":51,"column":96}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":52,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":52,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":52,"column":16}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":52,"column":41}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":52,"column":49}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":53,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":53,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":53,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":53,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":53,"column":47}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":55,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":55,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":42,"column":17},"generated":{"line":55,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":42,"column":35},"generated":{"line":55,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":55,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":56,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":56,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":43,"column":32},"generated":{"line":56,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":43,"column":50},"generated":{"line":56,"column":33}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":56,"column":35}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":37,"column":130},"generated":{"line":56,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":56,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":58,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":10},"generated":{"line":58,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":26},"generated":{"line":58,"column":24}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":58,"column":27}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":35},"generated":{"line":58,"column":33}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":36},"generated":{"line":58,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":58,"column":43}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":48},"generated":{"line":58,"column":46}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":54},"generated":{"line":58,"column":52}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":58,"column":53}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":48},"generated":{"line":58,"column":62}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":58,"column":63}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":48},"generated":{"line":58,"column":73}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":76},"generated":{"line":58,"column":74}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":76},"generated":{"line":58,"column":96}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":76},"generated":{"line":58,"column":97}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":76},"generated":{"line":58,"column":112}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":92},"generated":{"line":58,"column":113}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":48},"generated":{"line":58,"column":118}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":58,"column":119}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":101},"generated":{"line":58,"column":122}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":107},"generated":{"line":58,"column":128}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":108},"generated":{"line":58,"column":129}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":58,"column":141}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":59,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":59,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":28},"generated":{"line":59,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":31},"generated":{"line":59,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":37},"generated":{"line":59,"column":35}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":38},"generated":{"line":59,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":31},"generated":{"line":59,"column":45}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":50},"generated":{"line":59,"column":48}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":56},"generated":{"line":59,"column":54}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":57},"generated":{"line":59,"column":55}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":50},"generated":{"line":59,"column":64}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":67},"generated":{"line":59,"column":65}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":50},"generated":{"line":59,"column":75}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":78},"generated":{"line":59,"column":76}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":78},"generated":{"line":59,"column":98}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":78},"generated":{"line":59,"column":99}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":78},"generated":{"line":59,"column":114}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":94},"generated":{"line":59,"column":115}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":50},"generated":{"line":59,"column":122}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":31},"generated":{"line":59,"column":123}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":105},"generated":{"line":59,"column":126}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":111},"generated":{"line":59,"column":132}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":112},"generated":{"line":59,"column":133}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":59,"column":147}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":61,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":61,"column":9}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":61,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":61,"column":16}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":22},"generated":{"line":61,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":33},"generated":{"line":61,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":34},"generated":{"line":61,"column":32}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":61,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":48,"column":41},"generated":{"line":61,"column":39}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":62,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":62,"column":6}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":62,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":62,"column":14}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":62,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":62,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":62,"column":22}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":50,"column":5},"generated":{"line":63,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":65,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":65,"column":9}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":65,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":65,"column":17}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":65,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":65,"column":32}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":51,"column":35},"generated":{"line":65,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":66,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":66,"column":10}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":66,"column":14}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":66,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":66,"column":25}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":25},"generated":{"line":66,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":66,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":66,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":52,"column":32},"generated":{"line":66,"column":33}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":67,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":67,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":30},"generated":{"line":67,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":31},"generated":{"line":67,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":67,"column":35}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":36},"generated":{"line":67,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":67,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":68,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":55,"column":5},"generated":{"line":69,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":71,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":71,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":12}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":71,"column":76}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":91}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":71,"column":259}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":71,"column":263}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":17},"generated":{"line":71,"column":264}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":71,"column":273}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":71,"column":274}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":71,"column":281}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":282}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":71,"column":308}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":71,"column":312}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":17},"generated":{"line":71,"column":313}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":71,"column":322}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":71,"column":323}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":66,"column":12},"generated":{"line":71,"column":331}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":332}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":71,"column":358}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":71,"column":362}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":17},"generated":{"line":71,"column":363}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":71,"column":372}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":27},"generated":{"line":71,"column":373}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":71,"column":380}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":381}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":71,"column":407}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":71,"column":411}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":71,"column":412}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":71,"column":421}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":71,"column":422}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":71,"column":444}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":445}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":13},"generated":{"line":71,"column":472}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":71,"column":478}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":20},"generated":{"line":71,"column":479}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":489}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":35},"generated":{"line":71,"column":504}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":41},"generated":{"line":71,"column":510}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":69,"column":42},"generated":{"line":71,"column":511}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":522}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":71,"column":549}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":71,"column":553}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":17},"generated":{"line":71,"column":554}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":71,"column":563}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":71,"column":564}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":71,"column":580}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":581}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":71,"column":607}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":16},"generated":{"line":71,"column":611}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":17},"generated":{"line":71,"column":612}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":71,"column":621}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":71,"column":622}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":71,"column":640}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":641}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":71,"column":695}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":71,"column":714}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":71,"column":715}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":73,"column":29},"generated":{"line":71,"column":732}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":73,"column":47},"generated":{"line":71,"column":733}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":740}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":71,"column":867}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":879}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":22},"generated":{"line":71,"column":914}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":71,"column":923}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":32},"generated":{"line":71,"column":924}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":38},"generated":{"line":71,"column":930}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":39},"generated":{"line":71,"column":931}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":71,"column":940}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":71,"column":941}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":71,"column":942}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":72,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":72,"column":9}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":72,"column":28}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":72,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":72,"column":46}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":29},"generated":{"line":72,"column":47}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":72,"column":53}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":72,"column":57}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":43},"generated":{"line":72,"column":61}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":72,"column":67}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":50},"generated":{"line":72,"column":68}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":53},"generated":{"line":72,"column":71}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":54},"generated":{"line":72,"column":72}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":50},"generated":{"line":72,"column":87}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":70},"generated":{"line":72,"column":88}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":74},"generated":{"line":72,"column":92}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":70},"generated":{"line":72,"column":96}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":79},"generated":{"line":72,"column":97}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":80},"generated":{"line":72,"column":98}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":79},"generated":{"line":72,"column":102}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":70},"generated":{"line":72,"column":103}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":50},"generated":{"line":72,"column":104}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":72,"column":105}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":72,"column":106}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":74,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":79,"column":41},"generated":{"line":74,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":6}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":13},"generated":{"line":75,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":14},"generated":{"line":75,"column":14}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":19},"generated":{"line":75,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":26}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":28},"generated":{"line":75,"column":28}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":42}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":44}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":55}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":56}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":83}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":72},"generated":{"line":75,"column":84}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":95}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":85},"generated":{"line":75,"column":97}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":103}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":93},"generated":{"line":75,"column":105}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":44},"generated":{"line":75,"column":109}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":75,"column":110}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":81,"column":5},"generated":{"line":76,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":78,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":78,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":14},"generated":{"line":78,"column":14}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":15},"generated":{"line":78,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":78,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":82,"column":31},"generated":{"line":78,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":6}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":79,"column":12}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":13},"generated":{"line":79,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":27}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":28},"generated":{"line":79,"column":28}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":39}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":41},"generated":{"line":79,"column":41}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":48}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":50},"generated":{"line":79,"column":50}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":58}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":60},"generated":{"line":79,"column":60}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":79,"column":67}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":84,"column":5},"generated":{"line":80,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":82,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":82,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":14},"generated":{"line":82,"column":14}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":15},"generated":{"line":82,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":82,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":85,"column":31},"generated":{"line":82,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":83,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":83,"column":11}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":83,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":83,"column":31}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":83,"column":48}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":29},"generated":{"line":83,"column":49}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":83,"column":55}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":37},"generated":{"line":83,"column":57}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":83,"column":73}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":54},"generated":{"line":83,"column":74}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":83,"column":83}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":83,"column":85}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":66},"generated":{"line":83,"column":95}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":83,"column":96}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":84,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":86,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":77},"generated":{"line":86,"column":46}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":78},"generated":{"line":86,"column":47}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":86,"column":61}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":119}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":94},"generated":{"line":86,"column":141}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":146}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":100},"generated":{"line":86,"column":147}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":158}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":112},"generated":{"line":86,"column":159}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":113},"generated":{"line":86,"column":160}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":114},"generated":{"line":86,"column":161}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":165}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":120},"generated":{"line":86,"column":167}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":121},"generated":{"line":86,"column":168}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":122},"generated":{"line":86,"column":169}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":123},"generated":{"line":86,"column":170}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":120},"generated":{"line":86,"column":174}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":71},"generated":{"line":86,"column":175}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":86,"column":176}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":65},"generated":{"line":87,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":87,"column":7}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":87,"column":5},"generated":{"line":88,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":88,"column":3},"generated":{"line":89,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":90,"column":2},"generated":{"line":90,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":98,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":100,"column":18},"generated":{"line":101,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":100,"column":44},"generated":{"line":101,"column":45}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":100,"column":74},"generated":{"line":101,"column":60}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":101,"column":4},"generated":{"line":102,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":101,"column":41},"generated":{"line":102,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":13},"generated":{"line":103,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":14},"generated":{"line":103,"column":16}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":19},"generated":{"line":103,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":28}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":28},"generated":{"line":103,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":47}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":49}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":60}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":61}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":84}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":71},"generated":{"line":103,"column":85}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":76},"generated":{"line":103,"column":90}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":101}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":89},"generated":{"line":103,"column":103}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":47},"generated":{"line":103,"column":110}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":103,"column":111}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":103,"column":5},"generated":{"line":104,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":106,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":106,"column":10}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":106,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":106,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":20},"generated":{"line":106,"column":22}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":106,"column":35}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":104,"column":35},"generated":{"line":106,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":107,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":107,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":107,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":18},"generated":{"line":107,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":107,"column":33}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":32},"generated":{"line":107,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":107,"column":41}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":41},"generated":{"line":107,"column":43}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":54},"generated":{"line":107,"column":56}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":58},"generated":{"line":107,"column":60}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":105,"column":6},"generated":{"line":107,"column":62}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":106,"column":5},"generated":{"line":108,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":110,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":110,"column":10}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":13},"generated":{"line":110,"column":15}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":110,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":20},"generated":{"line":110,"column":22}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":110,"column":36}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":107,"column":36},"generated":{"line":110,"column":38}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":111,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":111,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":34}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":111,"column":35}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":40}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":39},"generated":{"line":111,"column":41}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":52}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":51},"generated":{"line":111,"column":53}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":60}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":60},"generated":{"line":111,"column":62}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":73},"generated":{"line":111,"column":75}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":77},"generated":{"line":111,"column":79}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":108,"column":6},"generated":{"line":111,"column":81}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":109,"column":5},"generated":{"line":112,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":114,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":9},"generated":{"line":114,"column":11}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":114,"column":17}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":114,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":114,"column":29}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":28},"generated":{"line":114,"column":30}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":114,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":37},"generated":{"line":114,"column":39}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":50},"generated":{"line":114,"column":52}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":54},"generated":{"line":114,"column":56}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":114,"column":58}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":111,"column":3},"generated":{"line":115,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":93,"column":12},"generated":{"line":118,"column":24}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":119,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":119,"column":13}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":119,"column":18}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":119,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":119,"column":38}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":16},"generated":{"line":119,"column":55}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":34},"generated":{"line":119,"column":56}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":11},"generated":{"line":119,"column":62}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":94,"column":4},"generated":{"line":119,"column":63}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":95,"column":3},"generated":{"line":120,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":7}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":8}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":21}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":24}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":126,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":127,"column":0}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":127,"column":19}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":127,"column":20}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":127,"column":37}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":29},"generated":{"line":127,"column":38}},{"source":"../main-thread/worker.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":127,"column":44}}],"sources":{"../main-thread/worker.ts":"/**\n * Copyright 2018 The AMP HTML Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MessageToWorker } from '../transfer/Messages';\nimport { WorkerDOMConfiguration } from './configuration';\nimport { createHydrateableRootNode } from './serialize';\nimport { readableHydrateableRootNode, readableMessageToWorker } from './debugging';\nimport { NodeContext } from './nodes';\nimport { TransferrableKeys } from '../transfer/TransferrableKeys';\nimport { StorageLocation } from '../transfer/TransferrableStorage';\n\nexport class WorkerContext {\n  private [TransferrableKeys.worker]: Worker;\n  private nodeContext: NodeContext;\n  private config: WorkerDOMConfiguration;\n\n  /**\n   * @param baseElement\n   * @param nodeContext\n   * @param workerDOMScript\n   * @param authorScript\n   * @param config\n   */\n  constructor(baseElement: HTMLElement, nodeContext: NodeContext,   : string, authorScript: string, config: WorkerDOMConfiguration) {\n    this.nodeContext = nodeContext;\n    this.config = config;\n\n    const { skeleton, strings } = createHydrateableRootNode(baseElement, config, this);\n    const cssKeys: Array<string> = [];\n    const globalEventHandlerKeys: Array<string> = [];\n    // TODO(choumx): Sync read of all localStorage and sessionStorage a possible performance bottleneck?\n    const localStorageData = config.sanitizer ? config.sanitizer.getStorage(StorageLocation.Local) : window.localStorage;\n    const sessionStorageData = config.sanitizer ? config.sanitizer.getStorage(StorageLocation.Session) : window.sessionStorage;\n\n    for (const key in baseElement.style) {\n      cssKeys.push(key);\n    }\n    for (const key in baseElement) {\n      if (key.startsWith('on')) {\n        globalEventHandlerKeys.push(key);\n      }\n    }\n\n    const code = `\n      'use strict';\n      (function(){\n        ${workerDOMScript}\n        self['window'] = self;\n        var workerDOM = WorkerThread.workerDOM;\n        WorkerThread.hydrate(\n          workerDOM.document,\n          ${JSON.stringify(strings)},\n          ${JSON.stringify(skeleton)},\n          ${JSON.stringify(cssKeys)},\n          ${JSON.stringify(globalEventHandlerKeys)},\n          [${window.innerWidth}, ${window.innerHeight}],\n          ${JSON.stringify(localStorageData)},\n          ${JSON.stringify(sessionStorageData)}\n        );\n        workerDOM.document[${TransferrableKeys.observe}](this);\n        Object.keys(workerDOM).forEach(function(k){self[k]=workerDOM[k]});\n      }).call(self);\n      ${authorScript}\n      //# sourceURL=${encodeURI(config.authorURL)}`;\n      this[TransferrableKeys.worker] = new Worker(URL.createObjectURL(new Blob([code])));\n    if (process.env[\"WORKER_DOM_DEBUG\"]) {\n      console.info('debug', 'hydratedNode', readableHydrateableRootNode(baseElement, config, this));\n    }\n    if (config.onCreateWorker) {\n      config.onCreateWorker(baseElement, strings, skeleton, cssKeys);\n    }\n    if (config.messageChannel) {\n      this[TransferrableKeys.worker].addEventListener(\"message\", (e)=> config.messageChannel?.port2.postMessage(e.data, [e.data]));\n    }\n  }\n\n  /**\n   * Returns the private worker.\n   */\n  get worker(): Worker {\n    return this[TransferrableKeys.worker];\n  }\n\n  /**\n   * @param message\n   */\n  messageToWorker(message: MessageToWorker, transferables?: Transferable[]) {\n    if (process.env[\"WORKER_DOM_DEBUG\"]) {\n      console.info('debug', 'messageToWorker', readableMessageToWorker(this.nodeContext, message));\n    }\n    if (this.config.onSendMessage) {\n      this.config.onSendMessage(message, transferables || []);\n    }\n    if (this.config.messageChannel) {\n      this.config.messageChannel.port1.postMessage(message, transferables || []);\n    }  \n    this.worker.postMessage(message, transferables || []);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"c8d10f4b240f7b75c6342746985e4e43","cacheData":{"env":{}}}